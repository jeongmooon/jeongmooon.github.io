<hr />

# HTTP(HyperText Transfer Protocol)

## HTTP란?
- HTTP는 "HyperText Transfer Protocol"의 약자로, **클라이언트(사용자)와 서버 간에 데이터를 주고받기 위한 프로토콜**이다.
- 주로 HTML, CSS, 이미지, JSON과 같은 웹 콘텐츠를 서버에서 클라이언트로 전달할 때 사용된다.
- HTTP는 비연결형 프로토콜로, 요청과 응답이 끝난 후 연결이 끊어진다. 따라서 **무상태 프로토콜(Stateless)**로 , 요청 간 상태를 기억하지 않는다.
- 그러나 상태를 관리하기 위해 **쿠키(Cookie)**, **세션(Session)**, **토큰(Token)** 등을 추가적으로 활용할 수 있다.

---

## REST(Representational State Transfer)
- **자원(Resource):** URI로 정의된다.
- **행위(Verb):** HTTP Method(GET, POST, PUT, DELETE 등)를 통해 자원에 대한 액션을 결정한다.
- **표현(Representations):** JSON, XML 등을 사용해 자원의 상태를 표현하고, 서버와 클라이언트 간 데이터를 전달한다.

### REST란?
- REST는 URI를 통해 자원을 표시하고, HTTP 메소드를 이용해 자원을 규정하여 클라이언트-서버 간 작업을 수행한다.
- HTTP Method를 통해 CRUD(Create, Read, Update, Delete) 작업을 수행하며, 다음과 같이 매핑된다:
  - **GET:** 자원을 조회 (Read)
  - **POST:** 자원을 생성 (Create)
  - **PUT:** 자원을 수정 또는 생성 (Update)
  - **DELETE:** 자원을 삭제 (Delete)

---

### 멱등성(Idempotence)이란?
- **멱등성(Idempotence)**은 같은 요청을 몇 번을 반복해도 서버의 상태가 변하지 않는 특성을 의미한다.
- 결과는 항상 동일해야 하며, 이는 요청의 "효과"를 기준으로 판단한다.

#### Method별 멱등성 여부:
- **GET:** 멱등성이 보장된다. 요청을 반복해도 서버 상태는 변하지 않고, 응답도 동일하다.
- **POST:** 멱등성이 보장되지 않는다. 요청을 반복하면 새로운 자원이 계속 생성된다.
- **PUT:** 멱등성이 보장된다. 동일한 요청을 여러 번 보낼 때, 결과는 항상 동일하다.
- **DELETE:** 멱등성이 보장된다. 동일한 자원을 여러 번 삭제 요청하더라도 최종 상태는 "삭제됨"이다.

---

## 안전한 메소드란?
- 안전한 메소드는 서버의 상태를 **변경하지 않는 메소드**를 의미한다.
- 예를 들어, 데이터를 단순히 조회하거나 확인할 때 사용하는 **GET**이나 **HEAD**는 안전한 메소드다.

### 안전한 메소드와 멱등성의 차이:
1. **안전한 메소드:**  
   - 서버의 상태를 절대 변경하지 않는다.  
   - 예: GET, HEAD

2. **멱등성을 가진 메소드:**  
   - 요청을 여러 번 보내도 서버 상태는 동일하다.  
   - PUT, DELETE는 멱등성을 가지지만 안전하지 않다(서버 상태를 변경할 수 있기 때문).

---

### Method별 특징 (예시 포함):
- **GET:**  
  - 데이터를 읽어오는 요청으로, 서버의 상태를 변경하지 않는다.  
  - 여러 번 요청해도 동일한 결과를 보장한다.  
  - **예:** 상품 목록 조회 요청  
    ```http
    GET /products
    ```

- **POST:**  
  - 자원을 생성하기 위한 요청으로, 서버 상태를 변경한다.  
  - 멱등성이 보장되지 않는다(같은 요청을 반복하면 중복 생성됨).  
  - **예:** 새로운 사용자 생성 요청  
    ```http
    POST /users
    ```

- **PUT:**  
  - 자원을 수정하거나 없을 경우 생성한다.  
  - 안전하지 않지만 멱등성은 보장된다.  
  - **예:** 특정 사용자의 이름 변경 요청  
    ```http
    PUT /users/123
    ```

- **DELETE:**  
  - 자원을 삭제한다.  
  - 안전하지 않지만 멱등성은 보장된다.  
  - **예:** 특정 사용자 삭제 요청  
    ```http
    DELETE /users/123
    ```

---

## HTTP 상태코드의 의미
- 서버는 클라이언트 요청의 처리 결과를 **HTTP 상태코드**로 반환한다.

### 주요 상태코드:
1. **200번대 (성공):**  
   - 클라이언트의 요청이 성공적으로 처리됨.  
     - **200 OK:** 요청 성공.  
     - **201 Created:** 요청 성공 후 새 자원이 생성됨.  
     - **204 No Content:** 요청 성공. 반환할 콘텐츠 없음.

2. **300번대 (리다이렉션):**  
   - 요청한 자원이 다른 위치로 이동했음을 나타냄.  
     - **301 Moved Permanently:** 자원이 영구적으로 이동됨.  
     - **302 Found:** 자원이 임시로 다른 URL에 있음.  
     - **304 Not Modified:** 캐시된 자원이 여전히 유효.

3. **400번대 (클라이언트 오류):**  
   - 클라이언트의 요청이 잘못되었거나 유효하지 않음.  
     - **400 Bad Request:** 요청 형식이 올바르지 않음.  
     - **401 Unauthorized:** 인증 필요.  
     - **403 Forbidden:** 권한 없음.  
     - **404 Not Found:** 요청한 자원이 존재하지 않음.

4. **500번대 (서버 오류):**  
   - 서버가 요청 처리 중 오류를 발생시킴.  
     - **500 Internal Server Error:** 범용적인 서버 오류.  
     - **502 Bad Gateway:** 잘못된 게이트웨이 또는 프록시.  
     - **503 Service Unavailable:** 서버가 사용 불가능(과부하 또는 유지보수 중).  

---

## 결론
- 안전한 메소드는 서버의 상태를 변경하지 않는다.
- 멱등성을 가진 메소드는 서버 상태를 변경하더라도 최종 결과는 같아야 한다.
- HTTP 상태코드를 통해 요청 결과를 명확히 이해하고 처리할 수 있다.

HTTP 기반의 RESTful 설계는 클라이언트-서버 간 효율적인 통신을 위한 기반이며, 이를 활용해 확장성과 유지보수성이 뛰어난 시스템을 구축할 수 있다.

<hr />